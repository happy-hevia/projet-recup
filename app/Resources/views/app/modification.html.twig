
{% extends 'base.html.twig' %}

{% block title %} {{ parent() }} Modifier un événement{% endblock %}

{% block navbarLien %}
	{{ include(':element:navbar-lien.html.twig') }}
{% endblock %}

{% block article %}
<br />

	<!--================================================
				Formulaire de modification
	====================================================-->

	<div class="formulaire-ajout">
		<h1>Formulaire de modification de l'événement</h1>

		{{ form_start(form, {'attr' : {'class': 'form-horizontal', 'novalidate' : 'novalidate'}} ) }}
		{{ form_errors(form) }}

		<div class="form-group">
			{{ form_label(form.title, "titre de l'événement :", {'label_attr' : {'class': 'col-xs-5 label-control'}}) }}
			<div class="col-xs-7">
				{{ form_widget(form.title, {'attr' : {'class': 'form-control'}} ) }}
			</div>
		</div>
		<div class="form-erreur">
			{{ form_errors(form.title) }}
		</div>

		<div class="form-group">
			{{ form_label(form.author, "Auteur :", {'label_attr' : {'class': 'col-xs-5 label-control'}}) }}
			<div class="col-xs-7">
				{{ form_widget(form.author, {'attr' : {'class': 'form-control'}} ) }}
			</div>
		</div>
		<div class="form-erreur">
			{{ form_errors(form.author) }}
		</div>

		<div class="form-group">
			{{ form_label(form.day, "Date de l'événement :", {'label_attr' : {'class': 'col-xs-5 label-control'}}) }}
			<div class="col-xs-7">
				{{ form_widget(form.day, {'attr' : {'class': 'form-control'}}) }}
			</div>
		</div>
		<div class="form-erreur">
			{{ form_errors(form.day) }}
		</div>

		<div class="form-group">
			{{ form_label(form.hour, "Heure de l'événement :", {'label_attr' : {'class': 'col-xs-5 label-control'}}) }}
			<div class="col-xs-7">
				{{ form_widget(form.hour, {'attr' : {'class': 'form-control'}} ) }}
			</div>
		</div>
		<div class="form-erreur">
			{{ form_errors(form.hour) }}
		</div>

		<div class="form-group">
			{{ form_label(form.file, "Image de présentation :", {'label_attr' : {'class': 'col-xs-5 label-control'}}) }}
			<div class="col-xs-7">
				{{ form_widget(form.file, {'attr' : {'class': 'form-control'}} ) }}
			</div>
		</div>
		<div class="form-erreur">
			{{ form_errors(form.file) }}
		</div>

		<div class="form-group">
			{{ form_label(form.content, "Contenu :") }}
			{{ form_widget(form.content) }}
		</div>
		<div class="form-erreur">
			{{ form_errors(form.content) }}
		</div>

		<a class="btn btn-default" href="{{ path('app_app_evenement') }}">Annuler</a>
		<button type="button" class="btn btn-danger" id="boutonSuppression2" data-toggle="modal" data-target="#modal-suppression2">Supprimer</button>
		{{ form_widget(form.submit, {'attr' : {'class' : 'btn btn-success'}, 'label' : 'Modifier'}) }}
		{{ form_rest(form) }}
		{{ form_end(form) }}

	</div>

	<!-- permet d'initialiser tinymce: l'éditeur de texte pour le contenu -->
	{{ tinymce_init() }}

	{# Modal de suppression qui s'affiche lorsque l'on demande la suppression de l'événement #}

	<div class="modal fade" id="modal-suppression2" tabindex="-1" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-body">
					<p>Êtes-vous sûr de vouloir supprimer cet événement ?</p>
				</div>
				<div class="modal-footer">
					<button class="btn btn-default" data-dismiss="modal">Annuler</button>
					<a href="{{ path('supprimerEvenement', {id : evenement.id}) }}" class="btn btn-danger">Supprimer</a>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
{% endblock %}
